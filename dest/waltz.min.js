/*!
 * @license Waltz v1.0.1
 * (c) 2014 sugarshin https://github.com/sugarshin
 * License: MIT
 */
!function t(n,i,e){function r(s,u){if(!i[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,function(t){var i=n[s][1][t];return r(i?i:t)},c,c.exports,t,n,i,e)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)r(e[s]);return r}({1:[function(t){var n,i;n=t("./Waltz"),i=new n(document.querySelector("#waltz"),{fps:60}),i.start()},{"./Waltz":4}],2:[function(t,n){var i,e;e=t("./Util"),n.exports=i=function(){function t(t,n){this.options=this.util.extend({},this.defaults,n),this.ctx=t}return t.prototype.defaults={x:0,y:0,frame:0,max:30,size:10,color:"#f1f1f1"},t.prototype.util=function(){return new e}(),t.prototype.render=function(){return this.ctx.beginPath(),this.ctx.fillStyle=this.options.color,this.ctx.arc(this.options.x,this.options.y,this.options.frame*this.options.size,0,2*Math.PI,!1),this.ctx.fill(),this},t.prototype.clear=function(){return this.ctx.clearRect(this.options.x,this.options.y,this.options.frame*this.options.size,0),this},t.prototype.progress=function(){return this.options.frame++,this},t}()},{"./Util":3}],3:[function(t,n){var i,e={}.hasOwnProperty;n.exports=i=function(){function t(){}return t.prototype.addEvent=function(t,n,i){return t.addEventListener(n,i)},t.prototype.rmEvent=function(t,n,i){return t.removeEventListener(n,i)},t.prototype.extend=function(t){var n,i,r,o,s,u;for(t||(t={}),n=o=1,s=arguments.length;s>=1?s>o:o>s;n=s>=1?++o:--o)if(arguments[n]){u=arguments[n];for(i in u)e.call(u,i)&&(r=u[i],t[i]=arguments[n][i])}return t},t.prototype.getRandomInt=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},t.prototype.filter=function(){return Array.filter?Array.filter:function(t){"use strict";var n,i,e,r,o,s;if("undefined"==typeof this||null===this)throw new TypeError;if(r=Object(this),i=r.length>>>0,"function"!=typeof t)throw new TypeError;for(e=[],o=arguments[1],n=0;i>n;)n in r&&(s=r[n],t.call(o,s,n,r)&&e.push(s)),n++;return e}}(),t}()},{}],4:[function(t,n){var i,e,r,o=function(t,n){return function(){return t.apply(n,arguments)}};e=t("./Util"),i=t("./Circle"),n.exports=r=function(){function t(t,n){this.add=o(this.add,this),this.options=this.util.extend({},this.defaults,n),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.setField(),this.events()}var n,r;return r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),n=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),t.prototype.defaults={fps:60},t.prototype.util=function(){return new e}(),t.prototype.setField=function(){return this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this},t.prototype.anime=function(){var t,n,i,e,r;for(this.ctx.clearRect(0,0,this.width,this.height),r=this.circles,n=i=0,e=r.length;e>i;n=++i)t=r[n],t.options.frame>=t.options.max?t=null:t.render().progress();return this.util.filter.call(this.circles,function(t){return t}),this},t.prototype.start=function(){var t,n;return n=(new Date).getTime(),(t=function(i){return function(){var e;return i._timerID=r(t),e=(new Date).getTime(),e-n>=100-i.options.fps&&null!=i.circles?(i.anime(),n=(new Date).getTime()):void 0}}(this))(),this},t.prototype.stop=function(){return n(this._timerID),this},t.prototype.add=function(t){var n,e;return t.preventDefault(),"mousemove"===t.type?(n=t.x+this.util.getRandomInt(0,80),e=t.y+this.util.getRandomInt(0,80)):("touchstart"===t.type||"touchmove"===t.type)&&(n=t.touches[0].pageX+this.util.getRandomInt(0,80),e=t.touches[0].pageY+this.util.getRandomInt(0,80)),this.circles||(this.circles=[]),this.circles.push(new i(this.ctx,{x:n,y:e,size:this.util.getRandomInt(0,3),max:this.util.getRandomInt(5,25),color:"#"+this.util.getRandomInt(0,16777215).toString(16)})),this},t.prototype.events=function(){return this.util.addEvent(window,"resize",function(t){return function(){return t.setField()}}(this)),this.util.addEvent(window,"orientationchange",function(t){return function(){return t.setField()}}(this)),this.util.addEvent(window,"mousemove",this.add),this.util.addEvent(window,"touchstart",this.add),this.util.addEvent(window,"touchmove",this.add),this},t}()},{"./Circle":2,"./Util":3}]},{},[1]);