/*!
 * @license Waltz v1.0.2
 * (c) 2014 sugarshin https://github.com/sugarshin
 * License: MIT
 */
!function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t){var e,n;e=t("./Waltz"),n=new e(document.querySelector("#waltz"),{fps:60}),n.start()},{"./Waltz":4}],2:[function(t,e){var n,i;i=t("./Util"),e.exports=n=function(){function t(t,e){this.options=this.util.extend({},this.defaults,e),this.ctx=t}return t.prototype.defaults={x:0,y:0,frame:0,max:30,size:10,color:"#f1f1f1"},t.prototype.util=function(){return new i}(),t.prototype.render=function(){return this.ctx.beginPath(),this.ctx.fillStyle=this.options.color,this.ctx.arc(this.options.x,this.options.y,this.options.frame*this.options.size,0,2*Math.PI,!1),this.ctx.fill(),this},t.prototype.clear=function(){return this.ctx.clearRect(this.options.x,this.options.y,this.options.frame*this.options.size,0),this},t.prototype.progress=function(){return this.options.frame++,this},t}()},{"./Util":3}],3:[function(t,e){var n,i={}.hasOwnProperty;e.exports=n=function(){function t(){}return t.prototype.addEvent=function(t,e,n){return t.addEventListener(e,n)},t.prototype.rmEvent=function(t,e,n){return t.removeEventListener(e,n)},t.prototype.extend=function(t){var e,n,r,o,s,u;for(t||(t={}),e=o=1,s=arguments.length;s>=1?s>o:o>s;e=s>=1?++o:--o)if(arguments[e]){u=arguments[e];for(n in u)i.call(u,n)&&(r=u[n],t[n]=arguments[e][n])}return t},t.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.filter=function(){return Array.filter?Array.filter:function(t){"use strict";var e,n,i,r,o,s;if("undefined"==typeof this||null===this)throw new TypeError;if(r=Object(this),n=r.length>>>0,"function"!=typeof t)throw new TypeError;for(i=[],o=arguments[1],e=0;n>e;)e in r&&(s=r[e],t.call(o,s,e,r)&&i.push(s)),e++;return i}}(),t}()},{}],4:[function(t,e){var n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}};i=t("./Util"),n=t("./Circle"),e.exports=r=function(){function t(t,e){this.add=o(this.add,this),this.options=this.util.extend({},this.defaults,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.setField(),this.events()}var e,r;return r=function(){return requestAnimationFrame||webkitRequestAnimationFrame||mozRequestAnimationFrame||msRequestAnimationFrame||oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)}}(),e=function(){return cancelAnimationFrame||webkitCancelAnimationFrame||mozCancelAnimationFrame||msCancelAnimationFrame||oCancelAnimationFrame||function(t){return clearTimeout(t)}}(),t.prototype.defaults={fps:60},t.prototype.util=function(){return new i}(),t.prototype.setField=function(){return this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this},t.prototype.anime=function(){var t,e,n,i,r;for(this.ctx.clearRect(0,0,this.width,this.height),r=this.circles,e=n=0,i=r.length;i>n;e=++n)t=r[e],t.options.frame>=t.options.max?t=null:t.render().progress();return this.util.filter.call(this.circles,function(t){return t}),this},t.prototype.start=function(){var t,e;return e=(new Date).getTime(),(t=function(n){return function(){var i;return n._timerID=r(t),i=(new Date).getTime(),i-e>=100-(100-n.options.fps)&&null!=n.circles?(n.anime(),e=(new Date).getTime()):void 0}}(this))(),this},t.prototype.stop=function(){return e(this._timerID),this},t.prototype.add=function(t){var e,i;return t.preventDefault(),"mousemove"===t.type?(e=t.x+this.util.getRandomInt(0,80),i=t.y+this.util.getRandomInt(0,80)):("touchstart"===t.type||"touchmove"===t.type)&&(e=t.touches[0].pageX+this.util.getRandomInt(0,80),i=t.touches[0].pageY+this.util.getRandomInt(0,80)),this.circles||(this.circles=[]),this.circles.push(new n(this.ctx,{x:e,y:i,size:this.util.getRandomInt(0,3),max:this.util.getRandomInt(5,25),color:"#"+this.util.getRandomInt(0,16777215).toString(16)})),this},t.prototype.events=function(){return this.util.addEvent(window,"resize",function(t){return function(){return t.setField()}}(this)),this.util.addEvent(window,"orientationchange",function(t){return function(){return t.setField()}}(this)),this.util.addEvent(this.canvas,"mousemove",this.add),this.util.addEvent(this.canvas,"touchstart",this.add),this.util.addEvent(this.canvas,"touchmove",this.add),this},t}()},{"./Circle":2,"./Util":3}]},{},[1]);